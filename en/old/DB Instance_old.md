## Upcoming Products > RDS > DB Instance

## DB 인스턴스

### Flavor

* TOAST Cloud Compute & Network 상품에서 제공하는 모든 사양으로 DB 인스턴스를 생성 할 수 있습니다.

### 백업

* RDS 에서는 데이터 볼륨 크기와 동일한 크기의 백업 볼륨을 기본 제공합니다.
* 백업 볼륨의 크기가 가득차면, 오래된 백업 부터 순차적으로 Object Storage 로 업로드 됩니다.
* Object Storage 에 저장된 백업은 용량에 따라 별도 과금됩니다.
* 별도의 과금을 원하지 않으면, 백업 주기를 적절하게 조절해야 합니다.
* 백업이 실행되는 동안에는 백업으로 인한 성능 저하가 발생 할 수 있습니다.
* 서비스에 영향을 주지 않기 위해서, 서비스의 부하가 적은 시간에 백업을 하는 것이 유리합니다.
* TOAST Cloud RDS 는 시점 복원을 지원합니다.
    * bin log 사이즈와 보관 주기가 너무 짧은 경우 원하는 시점으로 복원이 어려울 수 있습니다.
* 복원 중인 DB 인스턴스를 백업 할 수 없습니다.

#### 자동 백업

* DB 인스턴스의 백업 주기를 1일 이상으로 설정 시, 자동 백업이 활성화 됩니다.
    * 백업 주기를 1일 이상에서 없음으로 변경하는 즉시 모든 자동 백업은 서버에서 그 즉시 삭제됩니다.
    * 삭제된 백업은 복원 할 수 없습니다.
* 설정된 백업 주기 만큼 백업 파일을 유지합니다.
* 자동 백업은 백업 시작 시각 부터 Duration 사이 중 임의의 시점에 시작됩니다.
* Duration 은 백업이 시작되는 시각을 의미합니다.
    * Duration 안에 백업을 완료하는 의미가 아닙니다.
    * Duration 안에 백업을 완료하지 못하더라도 백업은 종료되지 않습니다.

#### 수동 백업

* 자동 백업 이외에 언제든지 수동으로 백업을 할 수 있습니다.
* 수동 백업은 모두 Object Storage 에 저장되며, 명시적으로 삭제 하지 않는한 지워지지 않습니다.

### 복원

* 보관된 백업을 이용하여 원하는 시점으로 DB 인스턴스를 복원 할 수 있습니다.
* 복원 시, 원본 DB 인스턴스를 변경하지 않고 새로운 DB 인스턴스를 생성합니다.
* 백업의 저장 위치가 Object Storage 에 있을 경우, 시간이 더 소요됩니다.
* 백업 중인 DB 인스턴스를 이용해서 복원을 할 수 없습니다.

### 복제

* 읽기 성능을 높이기 위해서 MySQL 이 지원하는 Read Only Slave 를 만들 수 있습니다.
* Read Only Slave 를 만들기 위해서 원본 DB 인스턴스를 선택한 후 추가기능 > 복제본 생성을 누릅니다.

![[그림 1] 복제 - 생성](http://static.toastoven.net/prod_rds/rp_001.png)
<center>[그림 1] 복제 - 생성</center>

* 복제본 생성을 위한 설정을 입력한 후, 복제 버튼을 누르면 복제본이 생성됩니다.
* 원본 DB 인스턴스와 동일한 사양 혹은 더 높은 사양으로 만드는 것을 권장하며, 낮은 사양으로 생성 시 복제 지연이 발생 할 수 있습니다.
* 복재본 생성시, 원본 DB 인스턴스의 I/O 성능이 평소보다 낮아 질 수 있습니다.
* 원본 DB 인스턴스의 크기에 비례하여 복제본 생성 시간이 늘어 날 수 있습니다.

#### 제약 사항

* 하나의 원본 인스턴스는 최대 5개의 복재 본을 만들 수 있습니다.
* 복제본의 복제본을 만들 수 없습니다.

### 승격

* 복제 관계를 끊고 Read Only Slave 에서 Master 로 변경하는 것을 승격이라 부릅니다.
* 승격된 복제본은 더이상 원본 DB 인스턴스의 수정사항을 자동으로 반영하지 않습니다.
* 승격된 복제본은 독립된 DB 인스턴스로서 동작하게 됩니다.
* 승격 하려는 복제본과 원본 DB 인스턴스 사이에 복제 지연이 있는 경우, 해당 지연이 없어 질 때까지, 승격되지 않습니다.
